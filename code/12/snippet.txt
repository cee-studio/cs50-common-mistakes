  char * str = NULL;
  ...
  while (fscanf(file, "%s", str) != EOF) {
